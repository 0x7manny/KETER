export const kycFlow = [
  {
    step: '01',
    title: 'KYC form',
    description: 'The investor fills in: name, surname, age, address, country, wallet, type.',
    tech: 'React form',
    actor: 'Investor' as const,
  },
  {
    step: '02',
    title: 'Verification',
    description: 'The bank verifies identity, sets investor_type + max_amount.',
    tech: 'Admin UI',
    actor: 'Bank' as const,
  },
  {
    step: '03',
    title: 'Salt generation',
    description: 'A 256-bit random salt is generated — the investor\'s secret.',
    tech: 'crypto.getRandomValues',
    actor: 'Frontend' as const,
  },
  {
    step: '04',
    title: 'String to Field',
    description: '"Alice" becomes 280652041573 — all values converted to Field elements.',
    tech: 'stringToField()',
    actor: 'Frontend' as const,
  },
  {
    step: '05',
    title: 'Leaf computation',
    description: 'hash_8 then hash_2(+salt) then hash_2(+max_amount) = leaf_final.',
    tech: 'circomlibjs',
    actor: 'Frontend' as const,
  },
  {
    step: '06',
    title: 'Tree insertion',
    description: 'leaf_final inserted into the Merkle tree at the available index.',
    tech: 'MerkleTree',
    actor: 'Frontend' as const,
  },
  {
    step: '07',
    title: 'Root update',
    description: 'The bank publishes the new root on-chain via Registry.sol.',
    tech: 'ethers.js / Registry',
    actor: 'Bank' as const,
  },
  {
    step: '08',
    title: 'Save credentials',
    description: 'All private inputs saved in localStorage for later proof generation.',
    tech: 'localStorage',
    actor: 'Frontend' as const,
  },
];

export const transferFlow = [
  {
    step: '01',
    title: 'Load credentials',
    description: 'The investor loads their data from localStorage.',
    tech: 'JSON.parse',
    actor: 'Investor' as const,
  },
  {
    step: '02',
    title: 'Transfer input',
    description: 'Recipient (address) + amount to send.',
    tech: 'React form',
    actor: 'Investor' as const,
  },
  {
    step: '03',
    title: 'Merkle path',
    description: 'Compute the path + indices for their index in the tree.',
    tech: 'tree.getPath()',
    actor: 'Frontend' as const,
  },
  {
    step: '04',
    title: 'Nullifier',
    description: 'hash_2([salt, nonce]) — unique for this proof.',
    tech: 'circomlibjs',
    actor: 'Frontend' as const,
  },
  {
    step: '05',
    title: 'ZK Proof generation',
    description: 'noir_js generates the proof in the browser (~5-15s).',
    tech: 'noir.generateProof()',
    actor: 'Frontend' as const,
  },
  {
    step: '06',
    title: 'Solidity encoding',
    description: 'proof converted to bytes, publicInputs to bytes32[].',
    tech: 'ethers.hexlify',
    actor: 'Frontend' as const,
  },
  {
    step: '07',
    title: 'On-chain transaction',
    description: 'transferWithProof(to, amount, proof, pubInputs) sent to ZKToken.',
    tech: 'ethers.js / ZKToken',
    actor: 'Contract' as const,
  },
  {
    step: '08',
    title: 'Verification',
    description: 'ZKToken verifies root, nullifier, sender, recipient, amount, proof.',
    tech: '~310k gas',
    actor: 'Verifier' as const,
  },
  {
    step: '09',
    title: 'Transfer executed',
    description: 'Balances updated. nonce++ in localStorage.',
    tech: 'ERC-20 transfer',
    actor: 'Contract' as const,
  },
];
